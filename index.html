<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Pt-flowgrid by PT-FED</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="src/flowgrid.css">
    <style type="text/css">
      .pt-flowgrid-item-drag-svg {
          margin-top: 16px !important;
      }
      .main-content-flowgrid {
          background-color: #b3ee22;
          padding: 10px;
      }
      .pt-flowgrid-container {
          background-color: #b3ee22;
          min-height: 300px;
      }
    </style>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Pt-flowgrid</h1>
      <h2 class="project-tagline">flowgrid.js is a plugin for widget layout, 一个轻量简单的网格流布局插件</h2>
      <a href="https://github.com/PT-FED/pt-flowgrid" class="btn">View on GitHub</a>
      <a href="https://github.com/PT-FED/pt-flowgrid/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/PT-FED/pt-flowgrid/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content ">
      
      <div class="main-content-flowgrid">
        <div class="pt-flowgrid-container"></div>
      </div>

      <br>

      <div class="main-content-flowgrid">
        <div class="pt-flowgrid-container" id="b"></div>
      </div>

    </section>

    <section class="main-content">
      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/PT-FED/pt-flowgrid">Pt-flowgrid</a> is maintained by <a href="https://github.com/PT-FED">PT-FED</a>.</span>
      </footer>
    </section>

    <script type="text/javascript" src="src/flowgrid.js"></script>
    <script type="text/javascript">

      // 配置
      var options = {
        onLoad: function() {
          console_layout();
        }
      };

      var grid = flowgrid.instance(options); // {isDragBar:true}

      var data = [ 
            {x:0,y:0,w:2,h:2} // x(col), y(row), w(width), h(heigth)
          , {x:2,y:5,w:2,h:3}
          , {x:2,y:3,w:3,h:1}
          , {x:2,y:1,w:2,h:2}
          , {x:5,y:5,w:2,h:2}
          , {x:5,y:3,w:2,h:2}
          , {x:5,y:1,w:2,h:2}
          , {x:7,y:5,w:2,h:2}
          , {x:7,y:3,w:2,h:2}
          , {x:7,y:1,w:2,h:2}
          , {x:9,y:5,w:2,h:2}
          , {x:9,y:3,w:2,h:2}
          , {x:9,y:1,w:2,h:2}
      ];
      grid.setData(data);


      var data2 = [         // x(col), y(row), w(width), h(heigth)
          {x:0,y:3,w:3,h:3}
        , {x:0,y:2,w:3,h:1}
        , {x:0,y:0,w:3,h:2}
        , {x:4,y:4,w:2,h:2}
      ];
      var grid2 = flowgrid.instance({isDragBar:true}, document.getElementById('b'));
      grid2.setData(data2);


            
      // 控制台展示
      function console_layout() {
          var area = grid.area;
          console.log('**************************************************************');
          var PLACEHOLDER = '-';              // 占位符
          var put = '';
          for (var i = 0, rlen = area.length; i < rlen; i++) {
              var col = area[i];
              for (var j = 0, clen = col.length, cell=undefined; j < clen; j++) {
                  cell = (col[j] || col[j] === 0) ? col[j] : PLACEHOLDER;
                  put = put + '\t' + (cell === 'placeholder' ? 'p' : cell);
              }
              console.log(put);
              console.log(' ');
              put = '';
          }
      }
    </script>
  </body>
</html>
